# Gin çš„åšå®¢ ğŸ’

<div align="center">

![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg) 
![License: CC BY-NC-SA 4.0](https://img.shields.io/badge/License-CC%20BY--NC--SA%204.0-lightgrey.svg)
![TypeScript](https://img.shields.io/badge/TypeScript-5.0%2B-blue.svg)
![Astro](https://img.shields.io/badge/Astro-5.0%2B-orange.svg)
![Cloudflare](https://img.shields.io/badge/Cloudflare-Workers-F38020.svg)

**ä¸€ä¸ªåŸºäºç°ä»£ Web æŠ€æœ¯æ„å»ºçš„é«˜æ€§èƒ½è¾¹ç¼˜ä¼˜å…ˆåšå®¢å¹³å°**

[ğŸŒ åœ¨çº¿æ¼”ç¤º](https://blog.ichimarugin728.com) â€¢ [ğŸ“– English Documentation](./README.md)

![Gins Blog é¦–é¡µé¢„è§ˆ](media/home.png)

</div>

---

## ğŸ“‹ ç›®å½•

- [âœ¨ ç‰¹æ€§](#-ç‰¹æ€§)
- [ğŸ¨ ç•Œé¢å±•ç¤º](#-ç•Œé¢å±•ç¤º)
- [ğŸ› ï¸ æŠ€æœ¯æ ˆ](#ï¸-æŠ€æœ¯æ ˆ)
- [ğŸš€ å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [ğŸ“¦ éƒ¨ç½²](#-éƒ¨ç½²)
- [ğŸ¨ è‡ªå®šä¹‰é…ç½®](#-è‡ªå®šä¹‰é…ç½®)
- [ğŸ“œ å¼€æºåè®®](#-å¼€æºåè®®)

---

## âœ¨ ç‰¹æ€§

### ğŸ¨ **æ–°ç¾å­¦è®¾è®¡**
- **ç»ç’ƒæ€æ‹Ÿç‰©åŒ– UI** - ç£¨ç ‚ç»ç’ƒæ•ˆæœä¸èƒŒæ™¯æ¨¡ç³Š
- **æµç•…åŠ¨ç”»** - å¹³æ»‘çš„è¿‡æ¸¡æ•ˆæœå’Œå¾®äº¤äº’
- **Safari é£æ ¼ç§»åŠ¨å¯¼èˆª** - æ»šåŠ¨æ—¶æ”¶ç¼©çš„å¯¼èˆªæ ï¼Œå¸¦å…¨æ¯æ–‡å­—æ•ˆæœ

### ğŸŒ **æ™ºèƒ½å›½é™…åŒ–**
- **æ··åˆè¯­è¨€ç­–ç•¥** - å†…éƒ¨ä½¿ç”¨ `zh-SG` æ ¼å¼ï¼Œå¯¹å¤–å‘ˆç°ç®€æ´çš„ `/zh/` é“¾æ¥
- **åŠ¨æ€è·¯ç”±æ˜ å°„** - è‡ªå®šä¹‰è·¯ç”±é€»è¾‘å®ç°æ— ç¼è¯­è¨€åˆ‡æ¢
- **æœ¬åœ°åŒ– RSS** - è‹±è¯­ (`/rss.xml`) ä¸ä¸­æ–‡ (`/zh/rss.xml`) ç‹¬ç«‹è®¢é˜…æº

### ğŸ” **SEO æ·±åº¦ä¼˜åŒ–**
- **åŒè¯­ç´¢å¼•** - `sitemap.xml` å®Œæ•´è¦†ç›–ä¸­è‹±æ–‡å†…å®¹æ ‘
- **Hreflang æ”¯æŒ** - ç²¾å‡†çš„è¯­è¨€ç›®æ ‡å®šä½ (`en-SG`, `zh`)ï¼ŒåŠ©åŠ›æœç´¢å¼•æ“è¯†åˆ«
- **Meta å¢å¼º** - åŠ¨æ€ `og:locale`ã€å…³é”®è¯æ”¯æŒåŠä¸°å¯Œçš„ç¤¾äº¤åˆ†äº«å¡ç‰‡

### ğŸ” **è®¤è¯ä¸å®‰å…¨**
- **OAuth é›†æˆ** - é€šè¿‡ Arctic + Oslo æ”¯æŒ GitHubã€Googleã€Discord
- **æ™ºèƒ½ä¼šè¯** - æ”¯æŒè®¾å¤‡æ„ŸçŸ¥çš„ä¼šè¯è¿½è¸ªä¸è‡ªåŠ¨å»é‡
- **é›¶ä¿¡ä»»ç®¡ç†å‘˜** - å— Cloudflare Access ä¿æŠ¤çš„ç®¡ç†è·¯ç”±

### ğŸ“ **å†…å®¹ç®¡ç†**
- **å¯Œæ–‡æœ¬ Markdown ç¼–è¾‘å™¨** - å®Œæ•´çš„ CMSï¼Œæ”¯æŒå®æ—¶é¢„è§ˆå’Œåª’ä½“ä¸Šä¼ 
- **æ–‡ä»¶ä¸Šä¼ å‘å¸ƒ** - ç›´æ¥ä¸Šä¼  `.md` æˆ– `.rtf` æ–‡ä»¶å¿«é€Ÿå‘å¸ƒ
- **è‡ªåŠ¨ç”Ÿæˆ Slug** - ä»æ ‡é¢˜è‡ªåŠ¨ç”Ÿæˆ SEO å‹å¥½çš„ URL
- **å®šæ—¶å‘å¸ƒ** - ä¸ºæœªæ¥çš„æ–‡ç« è®¾ç½®å‘å¸ƒæ—¥æœŸ
- **éŸ³ä¹ç®¡ç†å™¨** - ä¸“ç”¨æ§åˆ¶å°ç®¡ç†éŸ³ä¹/æ’­æ”¾åˆ—è¡¨æ•°æ®

### ğŸš€ **æ€§èƒ½ä¸åŸºç¡€è®¾æ–½**
- **è¾¹ç¼˜ä¼˜å…ˆæ¶æ„** - å®Œå…¨åœ¨ Cloudflare Workers/Pages ä¸Šè¿è¡Œ
- **æ™ºèƒ½ç¼“å­˜** - åŸºäº KV çš„ API å“åº”å’Œä¸»é¡µæ•°æ®ç¼“å­˜
- **é¢„å–åŠ è½½** - é¼ æ ‡æ‚¬åœå³åŠ è½½ï¼Œå®ç°å³æ—¶é¡µé¢å¯¼èˆª
- **PWA æ”¯æŒ** - å¯åœ¨ç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯ä½œä¸ºåŸç”Ÿåº”ç”¨å®‰è£…
- **æ™ºèƒ½è·¯ç”±** - Cloudflare Smart Placement ä¼˜åŒ–å»¶è¿Ÿ

### ğŸ¤– **AI é©±åŠ¨æœç´¢**
- **è¯­ä¹‰æœç´¢** - ä½¿ç”¨ Cloudflare Vectorize + Workers AI å®ç°æ™ºèƒ½å†…å®¹å‘ç°
- **å¤šè¯­è¨€æ”¯æŒ** - è·¨è‹±æ–‡å’Œä¸­æ–‡å†…å®¹æœç´¢
- **å³æ—¶ç»“æœ** - å¿«é€Ÿçš„è¾¹ç¼˜å‘é‡æœç´¢

---

## ğŸ¨ ç•Œé¢å±•ç¤º

<details>
<summary>ç‚¹å‡»å±•å¼€å›¾åº“</summary>

### ğŸŒ æ ¸å¿ƒä½“éªŒ
| åšå®¢ç´¢å¼• | å…³äºé¡µé¢ |
| :---: | :---: |
| ![åšå®¢é¡µé¢](media/blog.png) | ![å…³äºé¡µé¢](media/about.png) |

### ğŸ‘¤ ç”¨æˆ·ç³»ç»Ÿ
| ä¸ªäººèµ„æ–™è‡ªå®šä¹‰ | èº«ä»½åˆ‡æ¢ |
| :---: | :---: |
| ![ä¸ªäººèµ„æ–™é¡µé¢](media/profile.png) | ![ä¸ªäººèµ„æ–™åˆ‡æ¢](media/switch-profile.png) |

### ğŸ›¡ï¸ ç®¡ç†å¥—ä»¶
| ä»ªè¡¨æ¿ | CMS ç¼–è¾‘å™¨ |
| :---: | :---: |
| ![ç®¡ç†é¢æ¿](media/admin.png) | ![ç¼–è¾‘å™¨ç•Œé¢](media/editor.png) |

### ğŸ“± ç§»åŠ¨ä½“éªŒ
| éŸ³ä¹ç®¡ç†å™¨ | ç§»åŠ¨è§†å›¾ |
| :---: | :---: |
| ![éŸ³ä¹æ§åˆ¶å°](media/music-manager.png) | <img src="media/mobile.jpg" width="300" /> |

</details>

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### **å‰ç«¯**
| æŠ€æœ¯ | ç”¨é€” | ç‰ˆæœ¬ |
|------|------|------|
| [Astro](https://astro.build) | æ”¯æŒæœåŠ¡ç«¯æ¸²æŸ“çš„é™æ€ç«™ç‚¹ç”Ÿæˆå™¨ | Latest |
| [Preact](https://preactjs.com) | ç”¨äºäº¤äº’ç»„ä»¶çš„è½»é‡çº§ React æ›¿ä»£å“ | Latest |
| [UnoCSS](https://unocss.dev) | å³æ—¶æŒ‰éœ€åŸå­åŒ– CSS å¼•æ“ | Latest |
| [Satori](https://github.com/vercel/satori) | åŸºäº SVG çš„ OG å›¾ç‰‡ç”Ÿæˆ | ^0.19.1 |

### **åç«¯ä¸è¾¹ç¼˜**
| æŠ€æœ¯ | ç”¨é€” | ç‰ˆæœ¬ |
|------|------|------|
| [Cloudflare Workers](https://workers.cloudflare.com) | æ— æœåŠ¡å™¨è¾¹ç¼˜è®¡ç®—å¹³å° | - |
| [Cloudflare Pages](https://pages.cloudflare.com) | å¸¦è¾¹ç¼˜å‡½æ•°çš„é™æ€ç«™ç‚¹æ‰˜ç®¡ | - |
| [Hono](https://hono.dev) | é€‚ç”¨äº Workers çš„è¶…å¿« Web æ¡†æ¶ | Latest |
| [Drizzle ORM](https://orm.drizzle.team) | ç±»å‹å®‰å…¨çš„ D1 SQL ORM | Latest |

### **æ•°æ®åº“ä¸å­˜å‚¨**
| æŠ€æœ¯ | ç”¨é€” |
|------|------|
| [Cloudflare D1](https://developers.cloudflare.com/d1) | åŸºäº SQLite çš„æ— æœåŠ¡å™¨ SQL æ•°æ®åº“ |
| [Cloudflare R2](https://developers.cloudflare.com/r2) | å…¼å®¹ S3 çš„åª’ä½“å¯¹è±¡å­˜å‚¨ |
| [Cloudflare KV](https://developers.cloudflare.com/kv) | ç”¨äºç¼“å­˜å’Œä¼šè¯çš„ä½å»¶è¿Ÿé”®å€¼å­˜å‚¨ |
| [Cloudflare Vectorize](https://developers.cloudflare.com/vectorize) | AI é©±åŠ¨æœç´¢çš„å‘é‡æ•°æ®åº“ |

### **AI ä¸æœç´¢**
| æŠ€æœ¯ | ç”¨é€” |
|------|------|
| [Workers AI](https://developers.cloudflare.com/workers-ai) | ç”¨äºåµŒå…¥çš„æ— æœåŠ¡å™¨ AI æ¨¡å‹ |
| [Vectorize](https://developers.cloudflare.com/vectorize) | å‘é‡ç›¸ä¼¼åº¦æœç´¢ï¼ˆ768 ç»´ï¼Œä½™å¼¦è·ç¦»ï¼‰|

### **è®¤è¯**
| æŠ€æœ¯ | ç”¨é€” | ç‰ˆæœ¬ |
|------|------|------|
| [Arctic](https://arctic.js.org) | OAuth 2.0 å®¢æˆ·ç«¯åº“ | Latest |
| [Oslo](https://oslo.js.org) | è®¤è¯å·¥å…·ï¼ˆä¼šè¯ã€PKCE ç­‰ï¼‰| Latest |

### **å·¥å…·**
| æŠ€æœ¯ | ç”¨é€” | ç‰ˆæœ¬ |
|------|------|------|
| [Marked](https://marked.js.org) | å†…å®¹çš„ Markdown è§£æå™¨ | ^17.0.1 |
| [Zod](https://zod.dev) | TypeScript ä¼˜å…ˆçš„æ¨¡å¼éªŒè¯ | ^3.25.76 |
| [TypeScript](https://www.typescriptlang.org) | ç±»å‹å®‰å…¨çš„ JavaScript | ^5.9.3 |

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### **å‰ç½®è¦æ±‚**

å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿å·²å®‰è£…ä»¥ä¸‹å†…å®¹ï¼š

- **Node.js** `24+` ([ä¸‹è½½](https://nodejs.org))
- **npm** æˆ– **pnpm**ï¼ˆNode.js è‡ªå¸¦ï¼‰
- **Cloudflare è´¦æˆ·** ([å…è´¹æ³¨å†Œ](https://dash.cloudflare.com/sign-up))
- **Wrangler CLI**ï¼ˆCloudflare çš„å‘½ä»¤è¡Œå·¥å…·ï¼‰

```bash
npm install -g wrangler
```

---

### **æ­¥éª¤ 1ï¼šå…‹éš†ä»“åº“**

```bash
git clone https://github.com/your-username/gins-blog.git
cd gins-blog
npm install
```

---

### **æ­¥éª¤ 2ï¼šè®¾ç½® Cloudflare èµ„æº**

æ‚¨éœ€è¦åˆ›å»ºå¤šä¸ª Cloudflare èµ„æºã€‚è¯·ä»”ç»†æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œã€‚

#### **2.1 åˆ›å»º D1 æ•°æ®åº“**

```bash
wrangler d1 create gins-blog-db
```

**è¾“å‡ºï¼š**
```
database_id = "abc123-def456-ghi789"
```

å¤åˆ¶ `database_id` å¹¶æ›´æ–° `wrangler.jsonc`ï¼š

```jsonc
{
  "d1_databases": [
    {
      "binding": "DB",
      "database_name": "gins-blog-db",
      "database_id": "abc123-def456-ghi789" // <--- ç²˜è´´åˆ°è¿™é‡Œ
    }
  ]
}
```

#### **2.2 åˆå§‹åŒ–æ•°æ®åº“æ¶æ„**

```bash
npm run db:push
```

è¿™å°†åˆ›å»ºæ‰€æœ‰å¿…è¦çš„è¡¨ï¼ˆ`users`ã€`sessions`ã€`posts`ã€`comments`ã€`likes`ã€`music`ï¼‰ã€‚

---

#### **2.3 åˆ›å»º KV å‘½åç©ºé—´**

```bash
# ç¼“å­˜å‘½åç©ºé—´
wrangler kv namespace create GINS_CACHE

# ä¼šè¯å‘½åç©ºé—´
wrangler kv namespace create SESSION

# é€šç”¨ KV å‘½åç©ºé—´
wrangler kv namespace create GIN_KV
```

å¯¹äºæ¯ä¸ªå‘½ä»¤ï¼Œæ‚¨å°†è·å¾—ä¸€ä¸ª `id`ã€‚æ›´æ–° `wrangler.jsonc`ï¼š

```jsonc
{
  "kv_namespaces": [
    {
      "binding": "GINS_CACHE",
      "id": "your-cache-namespace-id"
    },
    {
      "binding": "SESSION",
      "id": "your-session-namespace-id"
    },
    {
      "binding": "GIN_KV",
      "id": "your-kv-namespace-id"
    }
  ]
}
```

---

#### **2.4 åˆ›å»º R2 å­˜å‚¨æ¡¶**

```bash
wrangler r2 bucket create gins-media
```

æ›´æ–° `wrangler.jsonc`ï¼š

```jsonc
{
  "r2_buckets": [
    {
      "binding": "GINS_MEDIA",
      "bucket_name": "gins-media"
    }
  ]
}
```

---

#### **2.5 åˆ›å»º Vectorize ç´¢å¼•ï¼ˆå¯é€‰ - ç”¨äº AI æœç´¢ï¼‰**

```bash
wrangler vectorize create gins-vector --dimensions=768 --metric=cosine
```

æ›´æ–° `wrangler.jsonc`ï¼š

```jsonc
{
  "vectorize": [
    {
      "binding": "VECTORIZE",
      "index_name": "gins-vector"
    }
  ]
}
```

---

### **æ­¥éª¤ 3ï¼šé…ç½® OAuth æä¾›å•†**

åœ¨æ ¹ç›®å½•åˆ›å»º `.dev.vars` æ–‡ä»¶ï¼š

```env
# GitHub OAuth (https://github.com/settings/developers)
GITHUB_CLIENT_ID=your_github_client_id
GITHUB_CLIENT_SECRET=your_github_client_secret

# Google OAuth (https://console.cloud.google.com/apis/credentials)
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret
GOOGLE_REDIRECT_URI=http://localhost:4321/login/google/callback

# Discord OAuth (https://discord.com/developers/applications)
DISCORD_CLIENT_ID=your_discord_client_id
DISCORD_CLIENT_SECRET=your_discord_client_secret
DISCORD_REDIRECT_URI=http://localhost:4321/login/discord/callback
```

> **âš ï¸ é‡è¦æç¤ºï¼š** å°† `.dev.vars` æ·»åŠ åˆ°æ‚¨çš„ `.gitignore` ä»¥é˜²æ­¢æäº¤æœºå¯†ä¿¡æ¯ï¼

---

### **æ­¥éª¤ 4ï¼šä¿æŠ¤æ‚¨çš„ç®¡ç†é¢æ¿**

ç®¡ç†é¢æ¿å½“å‰ä½äº `/IchimaruGin728/admin`ã€‚**æ‚¨å¿…é¡»å°†æ­¤æ–‡ä»¶å¤¹é‡å‘½å**ä¸ºå”¯ä¸€çš„åç§°ï¼š

```bash
mv src/pages/IchimaruGin728 src/pages/YOUR_SECRET_ROUTE
```

ä¾‹å¦‚ï¼š
```bash
mv src/pages/IchimaruGin728 src/pages/my-secret-admin-panel
```

> **ğŸ”’ ä¸“ä¸šæç¤ºï¼š** ä¸ºæ‚¨çš„ç®¡ç†è·¯ç”±å¯ç”¨ [Cloudflare Accessï¼ˆé›¶ä¿¡ä»»ï¼‰](https://developers.cloudflare.com/cloudflare-one/applications/)ä»¥è·å¾—æœ€å¤§å®‰å…¨æ€§ã€‚

---

### **æ­¥éª¤ 5ï¼šæœ¬åœ°è¿è¡Œ**

```bash
npm run dev
```

è®¿é—® `http://localhost:4321` ğŸ‰

---

## ğŸ“¦ éƒ¨ç½²

### **éƒ¨ç½²åˆ° Cloudflare Pages**

1. **è®¾ç½®ç”Ÿäº§ç¯å¢ƒå˜é‡ï¼š**

å‰å¾€æ‚¨çš„ [Cloudflare Pages ä»ªè¡¨æ¿](https://dash.cloudflare.com) â†’ é€‰æ‹©æ‚¨çš„é¡¹ç›® â†’ è®¾ç½® â†’ ç¯å¢ƒå˜é‡

æ·»åŠ  `.dev.vars` ä¸­çš„æ‰€æœ‰å˜é‡ï¼ˆä½¿ç”¨ç”Ÿäº§å€¼ä½œä¸ºé‡å®šå‘ URIï¼‰ã€‚

2. **éƒ¨ç½²ï¼š**

```bash
npm run deploy
```

æˆ–å°†æ‚¨çš„ GitHub ä»“åº“è¿æ¥åˆ° Cloudflare Pages ä»¥åœ¨æ¨é€æ—¶è‡ªåŠ¨éƒ¨ç½²ã€‚

---

## ğŸ¨ è‡ªå®šä¹‰é…ç½®

### **æ›´æ–°ä¸ªäººä¿¡æ¯**

ç¼–è¾‘ `src/pages/about.astro` å’Œ `src/pages/zh-SG/about.astro` ä»¥æ›´æ–°ï¼š
- ç®€ä»‹å’Œæ—¶é—´è½´
- ç¤¾äº¤é“¾æ¥
- Gravatar å“ˆå¸Œ

### **æ›´æ”¹ç«™ç‚¹é…ç½®**

æ›´æ–° `astro.config.mjs`ï¼š

```js
export default defineConfig({
  site: 'https://your-domain.com', // æ‚¨çš„ç”Ÿäº§ URL
  // ...
});
```

### **è‡ªå®šä¹‰å“ç‰Œ**

**é¢œè‰²ï¼š** ç¼–è¾‘ `uno.config.ts`

```ts
export default defineConfig({
  theme: {
    colors: {
      brand: {
        primary: '#8b5cf6',    // æ‚¨çš„ä¸»è‰²
        accent: '#a78bfa',     // æ‚¨çš„å¼ºè°ƒè‰²
        // ...
      }
    }
  }
});
```

**å­—ä½“ï¼š** ç¼–è¾‘ `src/styles/global.css` æˆ–æ›´æ–° `uno.config.ts` ä¸­çš„å­—ä½“å¯¼å…¥ã€‚

---

## ğŸ“œ å¼€æºåè®®

- **ä»£ç **ï¼šæ ¹æ® [MIT è®¸å¯è¯](LICENSE) æˆæƒã€‚
- **å†…å®¹ä¸è®¾è®¡**ï¼šæ‰€æœ‰æ–‡ç« ã€åª’ä½“å’Œç‹¬ç‰¹çš„**æ–°ç¾å­¦ UI è®¾è®¡**æ ¹æ® [CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/) æˆæƒã€‚

æ‚¨å¯ä»¥è‡ªç”±ä½¿ç”¨ä»£ç ï¼Œä½†å¦‚æœå¼•ç”¨æˆ‘çš„æ–‡ç« æˆ–è®¾è®¡ä½œå“ï¼Œè¯·æ³¨æ˜å‡ºå¤„ã€‚è§†è§‰æ ‡è¯†çš„å•†ä¸šç”¨é€”éœ€è¦è®¸å¯ã€‚

---

## ğŸ™ è‡´è°¢

ä½¿ç”¨ â¤ï¸ å’Œç°ä»£ Web æŠ€æœ¯æ„å»ºã€‚ç‰¹åˆ«æ„Ÿè°¢ï¼š
- Astro å›¢é˜Ÿæä¾›çš„å‡ºè‰²æ¡†æ¶
- Cloudflare è®©è¾¹ç¼˜è®¡ç®—å˜å¾—æ˜“äºè®¿é—®
- å¼€æºç¤¾åŒº

---

<div align="center">

**[â¬† è¿”å›é¡¶éƒ¨](#gin-çš„åšå®¢-)**

ç”¨ ğŸ’œ åˆ¶ä½œ by [Ichimaru Gin](https://github.com/IchimaruGin728)

</div>
